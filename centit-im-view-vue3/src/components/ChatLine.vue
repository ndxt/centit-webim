<template>
  <li
    v-if="
      (item.type == 'C' || item.msgType == 'C') &&
      item.sender == pvdData.user.userCode &&
      item.receiver == pvdData.receiver.receiverCode
    "
    class="layim-chat-mine"
  >
    <div class="layim-chat-user">
      <img
        src="data:image/png;base64,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"
      /><cite
        ><i>{{
          $filters.formatDateForIm(item.sendTime, "yyyy-MM-dd hh:mm:ss")
        }}</i
        >{{ item.senderName }}</cite
      >
    </div>
    <div
      class="layim-chat-text"
      v-if="showType == '图片' || showType == '文件'"
      v-html="showMsg"
    ></div>
    <div v-else class="layim-chat-text">{{ item.content.msg }}</div>
  </li>
  <li
    v-else-if="
      (item.type == 'C' || item.msgType == 'C') &&
      item.sender == pvdData.receiver.receiverCode &&
      item.receiver == pvdData.user.userCode
    "
  >
    <div class="layim-chat-user">
      <img
        src="data:image/jpg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAUDBAQEAwUEBAQFBQUGBwwIBwcHBw8LCwkMEQ8SEhEPERETFhwXExQaFRERGCEYGh0dHx8fExciJCIeJBweHx7/2wBDAQUFBQcGBw4ICA4eFBEUHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh7/wAARCAC0ALQDAREAAhEBAxEB/8QAHQABAAEFAQEBAAAAAAAAAAAAAAYCBAUHCAMBCf/EAEMQAAEDAwIDBAUHCAsBAAAAAAEAAgMEBREGEgcTISIxQWEUUXGBkQgVFiMyQlIzVWKCobHB0RcYJFNWY3KSk5Si8P/EABsBAQACAwEBAAAAAAAAAAAAAAAFBgIDBAEH/8QAMREBAAIBAwMDAgQFBQEAAAAAAAECAwQREgUTUSExQRWRImFxoUJSU4HBMkOx0eHx/9oADAMBAAIRAxEAPwDstAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBBZXa7W60+ifONUyn9MqmUlPuz9ZM/O1gx4nBQU2m8Wy6zV8Nvq46h9vqTS1bW5+qlDWuLDnxw5p96Dw07qWxahfXsslzp651uqnUlWIjnlSt72n+fcg+6a1JY9SQVM9iucFfHSVD6WoMR/Jyt+0wg9xGQgtJ9a6Vg0nHque+UkVll6R1b3ENedxaA0YySSCAAMnCDz0prrSmqauaisl3ZPVws5j6aWKSCYMzjfy5GtcW5+8BhBZXjihoO0XWe2XDUUEVRTSCOpc2KR8VO/8MkrWlkZ69Q5wx4oJC292p16gsza6J1fPSOrIoWnJfCHNaXg92MuaO/xQVMu9tffpLC2rYblFTNqn0/Xc2JznNa/1YLmuHuQXyAgICAgxup75btN2KpvV2mMNHTNBkcG7j1IAAA7ySQFsw4rZrxSnvLXly1xUm9vaGvncfOHA76+t/wCm9SH0fVeI+7j+qafz+yn+sBw2/OFd/wBN69+jarxH3Pqen8/sf1gOG35wrv8ApvT6NqvEfc+p6fz+z3t/HXh9X19PQUlZXSVFTK2GJgo39p7iAB8Ssb9I1NKzaYjaPzZV6jgtMRE/s2cox3CAgINV8Sr5a9R2fh/eLNViqoanWFFyZQxzd210rXdHAHoWu8PBBgbXqWTSWm+L17pmGWtj1RNFQxAZMtTJBTshaB45e5vT1ZQYrg1OdHcR7RZpNN3+yU1+ssdJUS3OBkYqrlTBzzKC17ur2OkznBJa3vQeHDJp0NZqbiLTh4tNdda+g1LG3qGs9PnbBWY9cZO1x/A7P3UevLhcI5XcFGXLDrb6LdJKYP8AyZrQ76snw3BnMLfPOEE+1JeLhRcYtJU9+07p9zqusq6a0VtPc5TWRxclznudEY2twQ1oI3OAJGO7KPGGs1v1VQ6fvVboiv0zq3R9xq66qloLlFLS1IL5H8+ESgEHtbxmRo8OuEFeg7narhxO0FcrTRvt1srdCzx0FNK4ksDZqc8oEntFrR8BlBJLW4S/KTvjoiHiDStFFKR12PNTO4NPqJHX2INjoCAgICDRPyvL8YLFatOQvw6rlNTOB+BnRoPkXOJ/UU50PDve2Sfj0QvWM21K44+fVzFKO9WiEDC2cMFZNkPiPWz/AJMmnzfOK9DM9m6ntjHVsmfW3oz373NPuKi+sZu3ppj5t6O7p2LnnifHq7OVNWUQEBBqm02nhPbdT0N/o7dNT3GpnM1FHK+dsTJJhkyxwvdy2l4d9prR446goMlUN4aivhL6UOqKq8MuoBdKAa8MDQ5wJA3tG3sHu6HGUGa1LUaUukVnqrtTyVTaaZt0o5Gxyf2cx9Oc4txtaN+DnoQTkEA4DF2q+cO6Gx1Wn6QNjtz/AEt89M+KR7XhwklnznOc/WHGfLHcgs44eFlXpKHRPoUTrJS1EdPDTO5n1EriXMLX53sOdxD8jHXrhBbWWzcLtPytvsNtrfSKR1PUx3GsdU1MwMoMcIZJIXOIcJXAMHTJ7s4QWepdPcHqi83esuVJPDMJt1yip6upggne6RkZMkcbxG4l8jQSR2sknIygzWo4OHOqKan0/W24zutTohRQ0QfDNTudEHMbC6Itc0csg9CG4ac9yCnSdy4aaLpqqlshfSibZVVU0gmmmmLmxkOke/c8kCRn2j0yR06hBO7Tc6O6wSz0MpljiqJKd52kduN5Y4de/BB69x8EF4gICAg414+X06g4mXSVr91PRu9Dh9QbHkO+L9596uPTMXa09fz9fuqPUM3d1Fp+I9Ps11IFIw5IWsowVnDZEvNesnUnyOLCaXS111DKzD6+oEERPjHGOpHkXOI/VVW67m5Za44+I/5TvSce1JvPy3yoJLCAgIIBBVaWpKOlrILPd49tO6rpyyd/MNIxjMyA8zPKALByyc9fsIKDqHQkVVO+KOqhmhq55al8BkjLHmpige95a4dlznMd1yCxucdMIPj7ron0GCcUlfJSteWMLp3iMMdJI0h2+QN5RdTHsHoeyA0k4Qe9fcdFTQvoay1vLbdVGFkJaN3MBc8YAdkbjCcbsbhj7ruoKet0cK51nmt1XBM6RrX0lQXPjbJI4w7cbjHuIcSQO9pJ64OAkdZpaw1lu+b6i3MfTcpkWze4dhjSxrcg5xtc4eYJzlBVJpqyPhbF6FtDeocyV7Hg72SZ3Ah2d0bDnPh7UHtNZLbLTuhfDJ2pWzGRs72ycxrAwODwdwdtABIPUZz3lB4fRiwcqOI2uAsjex7Qc9CxrGt8euBGwY7uyEF7Z7ZQ2igjobbTtp6aMYaxpJA+KC7QEBBhNe3tunNHXS9EjdS07nR57jIejB73EBbtNi72WtPLRqcvZxWv4cOVLnySOkkcXPcS5xJyST3lXiI29IUnfed1lKFnEs4WkoWcM4eOOuFkzd88MbF9G+H9kspZskp6RnOH+a7tP/8ATnKg6vN3s9r+ZW7T4+3irXwka524QEBBh3aX086DkOtFIYs52lnTGMbf9OOm3ux0xhBW/Tdge+oe+z0TnVOeeTC3MmXB53evtAH2hB8k01YXwthdaaQRtGA0RgADLzjp4HmPyO47jnvQVfR6xkzl1rpXc8ky7owd2Q8EdfD6yTp3dt3rKCqGw2aFrBHbaYFkjZWuLAXb2uc4Oyeu4F7jnv7R9aDJICAg0fxX4wVluvVRY9MuhjNM4xz1bmh53jva0Hp0PQkg9c++xdP6RTJSMmb59oVPq3XMuPJOHT+m3vP5/k14/ijrVztx1DVD2Bo/cFKx03Sx/BCBnqvUJ/3Z/Z8/pQ1r/iKq+Df5J9N0v8kH1TqH9Wf2ff6UNa/4iqvg3+SfTdL/ACQfVeof1Z/ZTJxU1lFG6WTUdS1jAXOJDegHuXk9O0kRvNIZU6l1G9orXJO8/oj15423zWFjOlbo0PifUNlZVHDZHhoOGOAAGM4Oe/I8VxYMGCmo5442WXU4tXXR7ZrxafefTb/79oRiUKVQi1mCyhnC0kCzhlCVcFbANRcUrHbpI98DagVE4I6bIxvIPkdob71y9QzdnTWt8+33d2ix9zNWruhUZaxAQEBAQEBAQEBAQYTXd9i0zpC53yYgeiQOcwH7zz0Y33uIHvW/TYZz5a44+WjU5ow4rZPDh+a4PmmfNLIXyPcXOcT1JPUlX2IiI2h8/nHvO8qPS/NevOyel+aPOyel+aPe0xWp7gW20wtd2pjt93ef/vNcurvxpt5SvR9Lyz859qorBI6GZkrDhzHBw9oUXE7TutV6Res1n2lsCORs9PHOz7MjQ4e9S1Z5Rupl6TS00n4eMoWTyFpKFnDZDfvyOdPh9betTys/JtbRQHzOHyfsEfxKgOu5vSuKP1/6/wAp3o+Pflk/s6RVcTggICAgICAgICAgIOf/AJYupxS2i1aWglxLVSGrqGg9RGzLWA+RcXH9RT/QsG97ZZ+PRD9XyfgjH59XMvOd61ZkDwg5zvWh24Oc71ocIOc71ocIYa7zmaqxnowY9/iorV35ZNvCwdOw9vFv5WS5Ugl2kannW11O49qF3T/Seo/iu/TW3rt4Vrq2Hhmi8fLJyhdKMhaTNWcSzh2dwCsB0/wstMEjNs9Ww1k3tk7Qz5hu0e5UzqWbu6m0/Een2W/QYu3grHn1+6eLhdggICAgICAgICAgIOFOOepRqnifeLjFJzKWKX0WmIPTlx9nI8iQ536yunT8XZ09az7+8/3VrV37maZQjJXbyc2xkpyNjJTkbKZZOXG557gMrG2TjWZZ48fO0Vj5YRxLnFx7yclQ8zvO8rJEREbQ+Lx6yulqr0e6sYT2JhsPt8P2/vW/Bbjf9Ud1PD3MEzHvHql8oUiq8L3SNlk1Bqy12WME+mVTInY8GE9o+5uT7lrz5ezitfxDo0+Pu5K08y7tijZFEyKNoaxgDWtA6ADuCoszuu8RsqQEBAQEGDm1BCyV7Btw1xHetsYpY8lP0ii/R+K97UnI+kUXqb8U7UnJeWq5ivlexgGGDJIWFqcXsTuySweiCG8atSjSnDO83VkmypMBgpTnB5snZaR7M7vY0rq0eHvZq1+GjU5O3jmXBefNXLkruxnzTkbGfNORsZ805Gy0uMmIwwH7R6rm1N/w7O7Q497zbwsFxJUQfWOcx7XtOHNOQfUV6xtEWjaWwaWdtVRxVLcYkYDj1HxHxUrS3KsSpubHOLJNJ+G4Pkq2E1utqu9yMzFbaYtYcd0smWj/AMh/xUT1nNxxRSPn/CU6Ni5ZZv4/y6eVZWYQEBAQW9zqRR22qq3d0EL5D+qCf4LKscpiHk+kNCHUTicmQ/FTPZc/I+kJ/vP2p2jkfSE/3n7U7RybH4P1fp1HcJ92cSMZ8AT/ABXBrK8ZiG3HO6eLjbBBzD8tPU3MuFm0lBJlsDDXVLQfvOy2MHzADz+sFO9HxbRbJP6IzX332o5y3Kb3R3E3JucTcm5xMpucWPqn75ifAdAuHLblZLaanDHDyWtvEBHqXaFfNWt+aoIpZ6gvzDHGwuc7PgAO85/euvBmrWu1p2QHVdLeckZKRvv7u0eA2j6nSGiuVcYxHcK2U1E7M5MYwA1h8wBk+ZKr3UtTGozb19o9Er03TTp8O1vefVsFR6QEBAQEEb4o1JpOHl9nacFtG8fEY/it+lryzVj82GSdqTLk756/TVl7aP7h89fpp2zuHz1+mnaO43X8mO9R1fz1bnPHMbypmD1jtNd8Oz8VE9UxzXjZ1ae++8N1KJdKmWRkUTpZHNYxgLnOccAAd5KD89eJupHas19eb+XEx1VS4w58Im9mMf7Q1W7T4+1irTwg8tud5sje5bt2vibk3Nn3cm5xSbhXp12reINmsOwuiqalpnx4Qt7Uh/2grRqc3axWs2YsfO8Vd+ttVraABbaMAdABA3+SqfKfKcffmu2fm6j/AOBv8k5T5D5rtn5uo/8Agb/JOU+QFrtg6i3Un/C3+ScpFxFFFE3bFGyNvqa0ALwVoCAgICAgjfFKkfXcN9RU0QzI62zlg9bgwkD4gLo0tuOakz5hqzRM47RHhwd6fN61c9qq/wA7Hp834k4wc7Hp8vrTjU52Sbhjryt0Vq+lvcTDNCMxVUOcc2J2NwHn0BHmAufV6auoxzRtw57Y78nbGktTWTVVnjutir4qymf37T2o3fhc3vafIqoZcN8NuN42lO0yVyRvWUJ+U1qb6NcJLnypdlVcsUEHXr9Znef9gf78LfocfczR4j1a9RfjjlwzlWTdE7GU3NjKbmxlNzZ098i7RskcNw1xWwlomaaOgLh3tBzI8e8NaD5OCh+p599scfrLv0ePbe8ulVEO4QEBBgNeVElLZIphVeixCspxNKJ3xPa0ytA2bWP3vLi0Bhbh+dpxnKCN08U1HU6xqKnUV25NrIEInrdrI2mmjlOTtdjtOPXDiAe49yCEaKqrxT6moJb1crwKD0qqo6Z9PXvnJLnU73iVhgacMlLoy7pt7QIG0khi9R6/1HTauuEFzucFubbn1NPPBFcmiqk5vJkYIm8ssZsaxobneXFz+oyg6Jo45YqSGKeodUSsja18xaGmRwHV2B0GT1wEHqgIKZGNkjdG9oc1wIcCOhHqQfn5xJ07PpHXF1sE7XBtNOeS4/fiPWN3vaR78q36fPGXHF0Hkw8LTCO71v5MOBvXnI4G9ORwX1kvl2slWKyz3Ost9QOnMppnRuI9Rweo8ljetMkbWjdlXlWd6yl/HHVF4uVDpewXm5T11ZQW8VVY+U9rnVGJA0+bYjEPaXKO0+OlbXtWNomfT+3/AK6sk2mIi0tY7l1btPE3JucTcm5xSjhfo64681jSWC3hzGyHfUz7ciCEfaef3AeJIHitWfNGGk2lnjxTe2z9AtPWmhsNjorNbIRDR0cLYYWDwaBjr6ye8nxJKrV7Te02n3lK1iKxtC+WL0QRnUOu9NWG8C0XK4wxVh5B5bpGNwJnua13aI6DY5zvUBnxGQsbjxK07R2u23BvOqIq+KSVuyWBnKEewPD3SSNaCDI0YBPj4dUFvLrnS9209W3iutdVLR2icSvDo4p9sjA525pje9pLdrs9cghB8tZ0BDWFtt0rTUd3EZbyqa1tima90Ie6JszBs5nLeMhsnce9BRp3UOhfpBb6KkoDba+GB9FSxyxhnJxO+MwtaHEBxdC89B1DCSUGKvF94Xu1DXW6vsFTLcqqsijnbJa5uZM+VjcPAI3YAwO4Hp0B70G0oJGzQslYHhr2hwD2FrgD6wcEHyPVBWgICDSvyoeGMurrKzUdkgMl7tsZa+Jgy6pgGSWgeLmkkgeOSO/CkNBqu1bhb2lz58XON493HLnFri12QQcEHwU7ycXB83+acjgb/NORwSPhrZodQ60t9BWO5dva81FfIegjpogXyuJ8Oy0+8has+bhjmY9/j9WVMe9vVh9Y3p+odVXS9yN2GtqpJms/A0uO1vsAwPcscdeFIr4LfimZYncs92OxuTc2ZXSdgu+qb9TWSx0b6utqXYYxvc0eLnHwaO8krC+SuOvKz2tJtO0O6+CvDa28ONMChgLKi51Ia+vqwPyrx3Nb6mNyQB7T3lQOozzmtvPskMeOKRsni52wQEGuOJuntXX2807rO5rRRls1veat9NBFL1bI6Z0bua9xjc9jWsAADnEkkjAYjWOjdSah03aqCehqnS2+iNJPzq2GZ9Zunpd7jJI12Mxxyu3YDgcYHgQsKbhZfzoHUGlK2SmeJ3OnhkhjhDKpxjecDDWuie6U5cSC0Mdsb+JBm7rw8v7aW7UlsuVvdRSxTiihljcybe+3NpWl8reyBubkgR93XJPRB56e0df7ZquivMFhs1DS08zhU0dC8QMnkPMY2pY0BwGyOaRuC4Ok3FxDC1rCHjdeH+q6vWcVzF1qmQviq3Pey7OAidJLC9sbcxbg3DXYAzgNAyOmQ2zT80wR88MEu0bwwktDsdcE+GUFaAgICDSHG/gJbtXzT37TMkVrvj8vljcMQVTvW7H2Hn8QGD4jJyu7Ta22P8NvWGq+KLesOTdX6Z1DpK6utmobXUUFQCdvMb2JAPFjh0cPMEqWpmrkjestM0292Hj5ksjY42ue95DWtaMkk9wAWfJ5xT6+j6AaPqNOv2jVF8jb85gHLqCkyHNpzjukeQHPHg0NB7yuaLd6/L+GPb858lvwxt8tc5W/k1bGV7yNmyeFnBnWWvJYp4KN1stDiC64VbC1hb/lt75D7OnrIXNm1dMX5yzpimzsbhZw403w7tBorLA59TKAamtmwZpz5nwaPBo6DzOSojNnvmnezrpSKx6JktLMQEBAQEES4r3OttWlHTUFUaWd8oaJsDbGAC4lxL27W9nq4biBnDT4BBeDd+1C+6PN9vAu4mjmk3Rcz6lm5z42vjkkHLdy9hGIycEBxBBJCvQl71LLfNPG4194kp53sZM6YQFsxkpZJGbmtlcWZwH9AcYA8UHnXax1e3V080bmR1MWGMtZpq58Ho5J6uDaUuMhc12JWnaA0gNcAS4Nx0b5pKSGSoiZFM6NpkY15cGuI6gEgEgHxwPYEHqgICAgILG92e1XuhdQXi20lwpX98VTE2RvtwR3+a9raazvEiGRcHdEULJnaeoZNPVcuf7bQFpqI89/LfK15j9rMFbp1F5/1Tux4w11XfJV0zPUPmbqu+bnuLnOmEcjnE95JwMlb4194+Ia5wR5e1v+SroqJ4dW36/VIH3WPijB9vYJ/ak6/J8RB2KthaO4OcOdKyNntumqaaqb1FRWE1DwfWN+Q0/6QFovqMl/eWcY6x8J8tDMQEBAQEBAQWF9tVPebe6gq5auOB57fo1Q+Fzh4tLmEHB8RlBirPojTtljkjstLPbWSwuhe2mq5WNduABkc3dh0nQfWEF3mgqpdFadpXUksFHK2ppZ+eyrNTIahz+gO+Uu3PaQ1rS1xLSGgYwBgLap4eaWqKyqrJqe4OnqqoVkrvnWqxzgcteG8zDS3A24A2gADAQStAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQf/9k="
      /><cite
        >{{ item.senderName
        }}<i>{{
          $filters.formatDateForIm(item.sendTime, "yyyy-MM-dd hh:mm:ss")
        }}</i></cite
      >
    </div>
    <div
      class="layim-chat-text"
      v-if="showType == '图片' || showType == '文件'"
      v-html="showMsg"
    ></div>
    <div v-else class="layim-chat-text">{{ item.content.msg }}</div>
  </li>
  <li v-else-if="item.type == 'M'" class="layim-chat-system">
    <span>{{ item.content.msg }}</span>
  </li>
</template>

<script>
import { defineComponent } from "vue";
export default defineComponent({
  name: "ChatLine",
  data() {
    return {
      showType: "",
      showMsg: "",
    };
  },
  inject: ["pvdData"],
  props: {
    item: Object,
  },
  methods: {
    getMsg(msg) {
      let regex = /\[(.+?)\]/g;
      let msgs = msg.match(regex);
      msg = msgs[0];
      msg = msg.substring(1, msg.length - 1);
      return msg;
    },
  },
  created() {
    let msg = this.item.content.msg;
    if (msg && msg.indexOf("img[") === 0) {
      console.log("图片");
      msg = `<img src='${this.getMsg(msg)}' />`;
      this.showType = "图片";
    } else if (msg && msg.indexOf("file[") === 0) {
      console.log("文件");
      msg = `对方给你发送了一个文件,<a style='cursor:pointer;' onclick="window.open('${this.getMsg(
        msg
      )}')">点击下载</a>`;
      this.showType = "文件";
    }
    this.showMsg = msg;
  },
});
</script>

<style lang="less" scoped></style>
